<!DOCTYPE HTML>
<html>
<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">

  <!-- STYLESHEETS -->
  <link href="css/animate.min.css" rel="stylesheet">
  <link href="css/font-awesome.min.css" rel="stylesheet">
  <link href="css/buttons.css" rel="stylesheet">
  <link href="css/site.css" rel="stylesheet">
</head>

<body>
  <!-- MAP -->
  <div id="map-canvas"></div>

  <!-- SIDE BAR -->
  <div id="sidebar-wrapper"></div>
  <article id="sidebar" class="animated bounceInUp">
    <header>
      <h1><i class="icon-globe"></i> GeoFire</h1>
      <h2><a target="_blank" href="http://www.firebase.com">powered by <strong>Firebase</strong></a></h2>
    </header>

    <section class="content">
      <h3>What is GeoFire?</h3>
      <p>
        GeoFire is a helper library for location-based operations in <a target="_blank" href="http://www.firebase.com">Firebase</a>. It provides functions to store data for location querying in Firebase, and perform location queries such as location updates and localized searches.
      </p>

      <h3>About the demo</h3>
      <p>
        The example is using GeoFire's <strong>onKeyEntered()</strong> event to get the list of buses within the highlighted area of the map in real-time.
      </p>

      <h3>API Functions</h3>
      <h4>GeoFire</h4>
      <dl>
        <a href="TODO" target="_blank"><dt>new GeoFire(firebaseRef)</dt></a>
        <dd>Takes in a reference to the Firebase location where you want the geoFire location data to be stored.</dd>

        <a href="TODO" target="_blank"><dt>set(key, location)</dt></a>
        <dd>Returns a promise after adding the key-location pair.</dd>

        <a href="TODO" target="_blank"><dt>get(key)</dt></a>
        <dd>Returns a promise that is fulfilled with the location corresponding to the given key.</dd>

        <a href="TODO" target="_blank"><dt>remove(key)</dt></a>
        <dd>Returns a promise that is fulfilled after the location corresponding to the given key is removed.</dd>

        <a href="TODO" target="_blank"><dt>query(queryCriteria)</dt></a>
        <dd>Takes in a reference to the Firebase location where you want the geoFire location data to be stored.</dd>
      </dl>

      <h4>GeoQuery</h4>
      <dl>
        <a href="TODO" target="_blank"><dt>new GeoQuery(firebaseRef, queryCriteria)</dt></a>
        <dd>Takes in a reference to the Firebase location where the geoFire location data is stored and the query criteria for this GeoQuery.</dd>

        <a href="TODO" target="_blank"><dt>getResults()</dt></a>
        <dd>Returns a promise fulfilled with the current key-location pairs within this GeoQuery.</dd>

        <a href="TODO" target="_blank"><dt>onKeyMoved(callback)</dt></a>
        <dd>Sets the callback that will fire when a key within this GeoQuery is moved to another location within this GeoQuery.</dd>

        <a href="TODO" target="_blank"><dt>onKeyEntered(callback)</dt></a>
        <dd>Sets the callback that will fire when a key enters the GeoQuery.</dd>

        <a href="TODO" target="_blank"><dt>onKeyLeft(callback)</dt></a>
        <dd>Sets the callback that willl fire when a key leaves the GeoQuery.</dd>

        <a href="TODO" target="_blank"><dt>cancel()</dt></a>
        <dd>Terminates this GeoQuery so that it no longer sends location updates.</dd>

        <a href="TODO" target="_blank"><dt>updateQueryCriteria(queryCriteria)</dt></a>
        <dd>Overwrites this GeoQuery's current query criteria with the inputted one.</dd>
      </dl>

      <h4>GeoCallbackRegistration</h4>
      <dl>
        <a href="TODO" target="_blank"><dt>cancel()</dt></a>
        <dd>Cancels the callback for the given onKey*() event.</dd>
      </dl>
    </section>

    <footer>
      <a target="_blank" href="https://github.com/firebase/geoFire" class="button button-large button-block button-primary button-rounded"><i class="icon-github"></i> Download</a>
    </footer>
  </article>


  <!-- LOCATION CONSOLE -->
  <section id="location-console" class="animated bounceInUp">

    <h3><i class="icon-circle-blank"></i>&nbsp;&nbsp;Vehicles currently in the circle</h3>

    <ul></ul>
  </section>


  <!-- SOCIAL BAR -->
  <div id="social-bar">
    <!-- TODO: reneble -->
      <!-- GITHUB STAR BUTTON -->
      <!--<iframe class="github-button" src="http://ghbtns.com/github-btn.html?user=firebase&repo=geoFire&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="62" height="20"></iframe>-->

      <!-- GITHUB FORK BUTTON -->
      <!--<iframe class="github-button" src="http://ghbtns.com/github-btn.html?user=firebase&repo=geoFire&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="62" height="20"></iframe>-->

      <!-- TWITTER TWEET BUTTON -->
      <!--<a href="https://twitter.com/share" class="twitter-share-button" data-url="https://github.com/firebase/geoFire" data-text="GeoFire is a helper library for location-based operations in @Firebase.">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>-->

      <!-- FACEBOOK LIKE BUTTON -->
      <!--<div class="fb-like" data-href="https://github.com/firebase/geoFire" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false"></div>-->
    </section>
  </div>


  <!-- JAVASCRIPT -->
  <!-- Google Maps -->
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyANQ0KPuNhYNPwxfX4NRkJZ25jEWGK35q8&sensor=false"></script>

  <!-- Firebase -->
  <script src="../../bower_components/firebase/firebase.js"></script>

  <!-- RSVP -->
  <script src="../../bower_components/rsvp/rsvp.min.js"></script>

  <!-- GeoFire -->
  <script src="../../lib/geo-utils.js"></script>
  <script src="../../lib/geofire.js"></script>

  <!-- Vendors -->
  <script src="js/vendor/jquery-1.10.2.min.js"></script>
  <script src="js/vendor/underscore-min.js"></script>

  <!-- Custom JS -->
  <script src="js/busDemo.js"></script>

  <script type="text/javascript">
    google.maps.event.addDomListener(window, "load", initializeMap);
  </script>

  <script>
    // TODO: re-enable?
    /*var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37102688-1']);
    _gaq.push(['_trackPageview']);

    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();*/
  </script>
</body>
</html>
